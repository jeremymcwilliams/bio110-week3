
---
title: "Bio 110 Week 3"
output:
  pdf_document: default
  html_notebook: default
---

# Lab 3 - Using Digital Microscopy to measure Chlamydomonas flagella


The goals of this tutorial are to:
* learn how to import data in a spreadsheet to R Studio
* calculate the mean of your measured flagella lengths
* calculate the 95% confidence intervals of the mean flagella length
* plot the mean as a point with error bars on a graph

Now that you have collected measurements for 10 Chlamydomonas flagella, you must import your spreadsheet of data to R Studio. The format of the columns of data is important, as well as the titles of the columns of data. 

Before you move on and discover how to load your data into R, it might be useful to go over the following checklist that will make it easier to import the data correctly into R:

With spreadsheets, the first row is usually reserved for the header, while the first column is used to identify the sampling unit;
- Avoid names, values or fields with blank spaces, otherwise each word will be interpreted as a separate variable, resulting in errors that are related to the number of elements per line in your data set;
- If you want to concatenate words, inserting a . in between to words instead of a space;
- Short names are prefered over longer names;
- Try to avoid using names that contain symbols such as ?, $,%, ^, &, *, (, ),-,#, ?,,,<,>, /, |, \, [ ,] ,{, and };
- Delete any comments that you have made in your Excel file to avoid extra columns or NAâ€™s to be added to your file
- Make sure that any missing values in your data set are indicated with NA.


Once you have checked that your spreadsheet follows these basic rules, save it as a .csv file in a BIO 110 folder on the desktop.  

First you must upload your .csv file to R Studio in the bottom right window using the Upload button.  Browse to locate your file and click Upload.  Make sure it's loaded into the bio110-week3 folder.

Before writing any R code, we'll need to load some R packages in order to use some of the specific functions we want. Run the code chunk below to make sure these functions are available to your environement:

```{r}

library(readr)
library(dplyr)
library(Rmisc)
library(ggplot2)
library(rcompanion)


```
 

Now you'll want to load your data as a data frame into R by assigning it to a variable:

NOTE!! data below is just for testing....will remove it (and this sentence) when done. !! END NOTEs

```{r}
# for example:
# myData<-read_csv("myData.csv")
myData<-read_csv("test1.csv")


# confirm by printing your variable
# myData
myData


```



```{r}
# create a new variable with your measurement column data, and print it out to ensure it worked. 



#just to test!
#ggplot(data=mydata, mapping=aes(x=Measurement))+geom_histogram(bins=15)
# http://rstudio-pubs-static.s3.amazonaws.com/257936_76b37753334b400ea28de4856ccc4f4f.html#calulating_the_confidence_intervals



```


REVIEWERS! There are two options for 

## Generating statistics for plots

Now we can determine some basic statistics from that data, like mean and standard deviation. R has some handy built-in functions for this:

myMean<-mean(x=sampleData) #where sampledata is your series of measurements

mySD<-sd(x=sampleData) #where sampleData is your series of measurements

myN<-n()

Below, create one variable each for the mean and standard deviation of your data:

```{r}
#Mean:


#Standard Deviation

```


We can use these metrics to generate a 95% confidence interval. A 95% confidence interval defines a range of values that you can be 95% certain contains the population mean. There's a handy function in R called groupwiseMean that helps generate the values you need for your confidence interval: 

myStats<-groupwiseMean(ColumnName ~ 1,
              data   = myData,
              conf   = 0.95,
              digits = 3)

In the example above, you'll want to replace "ColumnName" with the literal name of your column, and "myData" with the variable containing your entire data set. Run this command below, and print out the result:


```{r}

# create a variable, and asign it to the "groupwise" function like above


# print it out


```


You'll see that the result is a new data frame with three key pieces of information:

* Mean
* Trad.lower   
* Trad.upper

Trad.lower and Trad.upper are the lower and upper limits of the 95% confidence interval, respectively. 
You'll need to create new variables that get the values for those columns for later use in creating your plot. You can do this by using the "$" operator, which lets you specify a specific column within a dataframe. For example, if your data frame is named myStats, you can get the mean by doing the following:

myMean<-myStats$Mean

Use this technique to create variables for the mean, 95% CI upper limit, and 95% CI lower limit:

```{r}




```


Now we have the data needed to create a plot. Beginning with the lab, we're going to be using "ggplot", which is a very popular library for creating data visualizations in R. 






```{r}

myMean<-mean(x=myData$Measurement)

x<-groupwiseMean(Measurement ~ 1,
              data   = myData,
              conf   = 0.95,
              digits = 3)
x
lower<-x$Trad.lower
upper<-x$Trad.upper

ggplot(data=myData, mapping=aes(y=myMean, x="name of group"))+geom_point()+geom_errorbar(mapping=aes(ymin=lower, ymax=upper), width=0.1)+ylim(0,10)+labs(title="my title", x="my x label", y="my y axis label")






```






```{r}


  
  #Standard Deviation:
mySD<-sd(x=myData$Measurement)

myMean
mySD

x<-groupwiseMean(Measurement ~ 1,
              data   = myData,
              conf   = 0.95,
              digits = 3)
x
lower<-x$Trad.lower
upper<-x$Trad.upper


plot <- ggplot(data = myData, mapping=aes(y=Measurement, x="Name of Group")) + geom_point( middle=myMean)+ geom_errorbar(mapping=aes(ymin=lower, ymax=upper,  color="red"))
plot


```



#That's all I have time for now.  
https://rcompanion.org/handbook/C_03.html
This stats site and its companion R handbook are Greg's favorites.  I thought it might help with finding the code we need.

